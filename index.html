<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClawPhone - OpenClaw Skill Security Scanner</title>
    <meta name="description" content="Scan OpenClaw skills for security threats. Free. Powered by Cisco AI Defense.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üõ°Ô∏è</text></svg>">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --bg: #0A0A0F;
            --surface: #1A1A24;
            --surface-elevated: #252532;
            --primary: #8B5CF6;
            --accent: #06B6D4;
            --text: #FFFFFF;
            --text-secondary: #9CA3AF;
            --critical: #EF4444;
            --high: #F97316;
            --medium: #EAB308;
            --low: #3B82F6;
            --safe: #22C55E;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
        
        /* Header */
        header {
            padding: 20px 0;
            border-bottom: 1px solid var(--surface);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logo-emoji { font-size: 28px; }
        
        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            margin-left: 24px;
            transition: color 0.2s;
        }
        
        nav a:hover { color: var(--text); }
        
        /* Hero */
        .hero {
            padding: 80px 0;
            text-align: center;
        }
        
        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            color: var(--primary);
            margin-bottom: 24px;
        }
        
        .hero h1 {
            font-size: 56px;
            font-weight: 800;
            margin-bottom: 24px;
            background: linear-gradient(135deg, var(--text) 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .hero p {
            font-size: 20px;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 40px;
        }
        
        .cta-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s;
            cursor: pointer;
            border: none;
        }
        
        .btn-primary {
            background: var(--primary);
            color: var(--text);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px rgba(139, 92, 246, 0.3);
        }
        
        .btn-secondary {
            background: var(--surface);
            color: var(--text);
            border: 1px solid var(--surface-elevated);
        }
        
        .btn-secondary:hover {
            background: var(--surface-elevated);
        }
        
        /* Live Dashboard */
        .dashboard {
            padding: 80px 0;
            background: var(--surface);
        }
        
        .dashboard h2 {
            font-size: 36px;
            text-align: center;
            margin-bottom: 48px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
        }
        
        .stat-card {
            background: var(--bg);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 8px;
        }
        
        .stat-value.threat { color: var(--critical); }
        .stat-value.safe { color: var(--safe); }
        .stat-value.neutral { color: var(--accent); }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }
        
        @media (max-width: 768px) {
            .dashboard-grid { grid-template-columns: 1fr; }
        }
        
        .dashboard-card {
            background: var(--bg);
            border-radius: 16px;
            padding: 24px;
        }
        
        .dashboard-card h3 {
            font-size: 18px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Recent Scans Feed */
        .scan-feed {
            list-style: none;
        }
        
        .scan-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--surface);
        }
        
        .scan-item:last-child { border-bottom: none; }
        
        .scan-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 12px;
        }
        
        .scan-status.safe { background: var(--safe); }
        .scan-status.threat { background: var(--critical); }
        
        .scan-info { flex: 1; }
        
        .scan-severity {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .severity-critical { background: rgba(239, 68, 68, 0.2); color: var(--critical); }
        .severity-high { background: rgba(249, 115, 22, 0.2); color: var(--high); }
        .severity-medium { background: rgba(234, 179, 8, 0.2); color: var(--medium); }
        .severity-low { background: rgba(59, 130, 246, 0.2); color: var(--low); }
        .severity-info { background: rgba(156, 163, 175, 0.2); color: var(--text-secondary); }
        
        .scan-time {
            color: var(--text-secondary);
            font-size: 12px;
            margin-left: 12px;
        }
        
        /* Vulnerability Types */
        .vuln-list { list-style: none; }
        
        .vuln-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--surface);
        }
        
        .vuln-item:last-child { border-bottom: none; }
        
        .vuln-name { font-size: 14px; }
        
        .vuln-count {
            background: var(--surface-elevated);
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        /* Features */
        .features {
            padding: 80px 0;
        }
        
        .features h2 {
            font-size: 36px;
            text-align: center;
            margin-bottom: 16px;
        }
        
        .features-subtitle {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 48px;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }
        
        .feature-card {
            background: var(--surface);
            border-radius: 16px;
            padding: 32px;
        }
        
        .feature-icon {
            font-size: 36px;
            margin-bottom: 16px;
        }
        
        .feature-card h3 {
            font-size: 20px;
            margin-bottom: 12px;
        }
        
        .feature-card p {
            color: var(--text-secondary);
        }
        
        /* Voice Chat Section */
        .voice-section {
            padding: 80px 0;
            background: var(--surface);
        }
        
        .voice-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 48px;
            align-items: center;
        }
        
        @media (max-width: 768px) {
            .voice-content { grid-template-columns: 1fr; }
        }
        
        .voice-text h2 {
            font-size: 36px;
            margin-bottom: 24px;
        }
        
        .voice-text p {
            color: var(--text-secondary);
            margin-bottom: 24px;
        }
        
        .voice-features {
            list-style: none;
        }
        
        .voice-features li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .voice-features li::before {
            content: "‚úì";
            color: var(--safe);
            font-weight: bold;
        }
        
        .app-mockup {
            background: var(--bg);
            border-radius: 32px;
            padding: 16px;
            max-width: 300px;
            margin: 0 auto;
        }
        
        .app-screen {
            background: var(--surface-elevated);
            border-radius: 24px;
            padding: 24px;
            text-align: center;
        }
        
        .app-screen .emoji { font-size: 48px; margin-bottom: 16px; }
        
        /* Pricing */
        .pricing {
            padding: 80px 0;
        }
        
        .pricing h2 {
            font-size: 36px;
            text-align: center;
            margin-bottom: 16px;
        }
        
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 48px;
        }
        
        .pricing-card {
            background: var(--surface);
            border-radius: 16px;
            padding: 32px;
            position: relative;
        }
        
        .pricing-card.featured {
            border: 2px solid var(--primary);
            transform: scale(1.05);
        }
        
        .pricing-badge {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary);
            padding: 4px 16px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .pricing-tier {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .pricing-price {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 24px;
        }
        
        .pricing-price span {
            font-size: 16px;
            font-weight: normal;
            color: var(--text-secondary);
        }
        
        .pricing-features {
            list-style: none;
            margin-bottom: 24px;
        }
        
        .pricing-features li {
            padding: 8px 0;
            color: var(--text-secondary);
        }
        
        @media (max-width: 900px) {
            .pricing-card.featured {
                transform: none;
            }
        }
        
        /* Footer */
        footer {
            padding: 48px 0;
            border-top: 1px solid var(--surface);
            text-align: center;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-bottom: 24px;
        }
        
        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
        }
        
        .footer-links a:hover { color: var(--text); }
        
        .powered-by {
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        /* Loading states */
        .loading {
            opacity: 0.5;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <span class="logo-emoji">üõ°Ô∏è</span>
                <span>ClawPhone</span>
            </div>
            <nav>
                <a href="#dashboard">Dashboard</a>
                <a href="#features">Features</a>
                <a href="#voice">Voice Chat</a>
                <a href="https://apps.apple.com/app/clawphone" target="_blank">Get App</a>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <div class="hero-badge">
                <span>üîí</span>
                <span>Powered by Cisco AI Defense</span>
            </div>
            <h1>Is Your OpenClaw Safe?</h1>
            <p><strong style="color: var(--critical);">18% of popular skills have security vulnerabilities.</strong> Before you install that skill, scan it. Free security analysis detects data exfiltration, API key theft, and malicious code patterns.</p>
            <div class="cta-buttons">
                <a href="https://scan.clawphone.com" class="btn btn-primary">üîç Scan Now</a>
                <a href="#dashboard" class="btn btn-secondary">View Live Threats</a>
            </div>
        </div>
    </section>

    <section class="dashboard" id="dashboard">
        <div class="container">
            <h2>üî¥ Live Threat Dashboard</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value neutral" id="total-scans">--</div>
                    <div class="stat-label">Total Scans</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value threat" id="threats-found">--</div>
                    <div class="stat-label">Threats Found</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value threat" id="threat-percentage">--%</div>
                    <div class="stat-label">Skills with Issues</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value safe" id="safe-percentage">--%</div>
                    <div class="stat-label">Clean Skills</div>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üì° Recent Scans</h3>
                    <ul class="scan-feed" id="recent-scans">
                        <li class="scan-item loading">Loading...</li>
                    </ul>
                </div>
                
                <div class="dashboard-card">
                    <h3>üéØ Top Vulnerability Types</h3>
                    <ul class="vuln-list" id="top-vulns">
                        <li class="vuln-item loading">Loading...</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="features" id="features">
        <div class="container">
            <h2>Security Analysis Engine</h2>
            <p class="features-subtitle">Enterprise-grade skill scanning for the OpenClaw community</p>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üîç</div>
                    <h3>Static Analysis</h3>
                    <p>YAML + YARA pattern matching detects known malicious code patterns, credential theft, and data exfiltration.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üß†</div>
                    <h3>Behavioral Analysis</h3>
                    <p>Dataflow tracking identifies suspicious patterns like base64 encoding combined with network requests.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Instant Results</h3>
                    <p>Get security analysis in seconds. No account required. Completely free for the community.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3>Severity Ratings</h3>
                    <p>Clear CRITICAL/HIGH/MEDIUM/LOW ratings with plain English explanations and remediation steps.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing" id="pricing">
        <div class="container">
            <h2>Simple Pricing</h2>
            <p class="features-subtitle">Free for basic scans. Pro for serious security.</p>
            
            <div class="pricing-grid">
                <div class="pricing-card">
                    <div class="pricing-tier">Free</div>
                    <div class="pricing-price">¬£0</div>
                    <ul class="pricing-features">
                        <li>‚úì Unlimited web scans</li>
                        <li>‚úì 2 character voices</li>
                        <li>‚úì 10 messages/day</li>
                        <li>‚úì Basic severity reports</li>
                    </ul>
                    <a href="https://scan.clawphone.com" class="btn btn-secondary" style="width: 100%;">Start Free</a>
                </div>
                
                <div class="pricing-card featured">
                    <div class="pricing-badge">Popular</div>
                    <div class="pricing-tier">Pro</div>
                    <div class="pricing-price">¬£4.99<span>/month</span></div>
                    <ul class="pricing-features">
                        <li>‚úì Everything in Free</li>
                        <li>‚úì Mobile app with push alerts</li>
                        <li>‚úì Continuous monitoring</li>
                        <li>‚úì All 20+ voices</li>
                        <li>‚úì Unlimited messages</li>
                        <li>‚úì Scan history</li>
                        <li>‚úì 100 API scans/month</li>
                    </ul>
                    <a href="#" class="btn btn-primary" style="width: 100%;">Coming Soon</a>
                </div>
                
                <div class="pricing-card">
                    <div class="pricing-tier">Developer</div>
                    <div class="pricing-price">¬£19.99<span>/month</span></div>
                    <ul class="pricing-features">
                        <li>‚úì Everything in Pro</li>
                        <li>‚úì 1,000 API scans/month</li>
                        <li>‚úì CI/CD integration</li>
                        <li>‚úì Verified safe badge</li>
                        <li>‚úì Webhook notifications</li>
                        <li>‚úì Priority support</li>
                    </ul>
                    <a href="#" class="btn btn-secondary" style="width: 100%;">Coming Soon</a>
                </div>
            </div>
        </div>
    </section>

    <section class="voice-section" id="voice">
        <div class="container">
            <div class="voice-content">
                <div class="voice-text">
                    <h2>Plus: Voice Chat with Your AI</h2>
                    <p>ClawPhone isn't just security. Connect to your personal OpenClaw bot and chat via voice with 20+ character voices.</p>
                    <ul class="voice-features">
                        <li>Connect to any OpenClaw bot with a code</li>
                        <li>Voice input with speech recognition</li>
                        <li>20+ TTS voices including characters</li>
                        <li>Works on iOS and Android</li>
                    </ul>
                    <a href="https://apps.apple.com/app/clawphone" class="btn btn-primary" style="margin-top: 24px;">Download App</a>
                </div>
                <div class="app-mockup">
                    <div class="app-screen">
                        <div class="emoji">ü¶û</div>
                        <h3>ClawPhone</h3>
                        <p style="color: var(--text-secondary); font-size: 14px;">Voice chat + Security scanner</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="privacy.html">Privacy Policy</a>
                <a href="support.html">Support</a>
                <a href="https://github.com/DSumm18/clawphone">GitHub</a>
                <a href="https://openclaw.ai">OpenClaw</a>
            </div>
            <p class="powered-by">Security scanning powered by <a href="https://github.com/cisco-ai-defense/skill-scanner" style="color: var(--accent);">Cisco AI Defense</a></p>
        </div>
    </footer>

    <script>
        // Fetch and display live stats
        async function loadStats() {
            try {
                const response = await fetch('https://clawphone-api.vercel.app/api/stats');
                // Fallback to direct server if Vercel fails
                const data = response.ok ? await response.json() : await fetchDirect();
                updateDashboard(data);
            } catch (e) {
                console.error('Failed to load stats:', e);
                // Try direct server
                try {
                    const data = await fetchDirect();
                    updateDashboard(data);
                } catch (e2) {
                    console.error('Direct fetch also failed:', e2);
                }
            }
        }
        
        async function fetchDirect() {
            const response = await fetch('http://142.132.160.28:8080/api/stats');
            return await response.json();
        }
        
        function updateDashboard(data) {
            // Stats
            document.getElementById('total-scans').textContent = data.total_scans || 0;
            document.getElementById('threats-found').textContent = data.threats_found || 0;
            document.getElementById('threat-percentage').textContent = (data.threat_percentage || 0) + '%';
            document.getElementById('safe-percentage').textContent = (100 - (data.threat_percentage || 0)) + '%';
            
            // Recent scans
            const scanFeed = document.getElementById('recent-scans');
            if (data.recent_scans && data.recent_scans.length > 0) {
                scanFeed.innerHTML = data.recent_scans.map(scan => `
                    <li class="scan-item">
                        <div class="scan-status ${scan.is_safe ? 'safe' : 'threat'}"></div>
                        <div class="scan-info">
                            ${scan.is_safe ? 'Clean skill' : `${scan.findings_count} issue${scan.findings_count !== 1 ? 's' : ''} found`}
                        </div>
                        ${!scan.is_safe ? `<span class="scan-severity severity-${scan.max_severity.toLowerCase()}">${scan.max_severity}</span>` : ''}
                        <span class="scan-time">${scan.time_ago}</span>
                    </li>
                `).join('');
            } else {
                scanFeed.innerHTML = '<li class="scan-item">No scans yet. Be the first!</li>';
            }
            
            // Top vulnerabilities
            const vulnList = document.getElementById('top-vulns');
            if (data.top_vulnerability_types && data.top_vulnerability_types.length > 0) {
                vulnList.innerHTML = data.top_vulnerability_types.map(vuln => `
                    <li class="vuln-item">
                        <span class="vuln-name">${formatRuleName(vuln.rule)}</span>
                        <span class="vuln-count">${vuln.count}</span>
                    </li>
                `).join('');
            } else {
                vulnList.innerHTML = '<li class="vuln-item">No vulnerabilities detected yet</li>';
            }
        }
        
        function formatRuleName(rule) {
            if (!rule) return 'Unknown';
            return rule.replace(/_/g, ' ').replace(/([A-Z])/g, ' $1').trim();
        }
        
        // Load stats on page load and refresh every 30 seconds
        loadStats();
        setInterval(loadStats, 30000);
    </script>
</body>
</html>
